<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëá™‰ΩúPC„Éë„Éº„ÉÑÈÅ∏ÂÆö„Ç¢„Éó„É™ - ÂÆåÂÖ®Áâà</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .part-section {
            margin-bottom: 25px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .part-section:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }
        
        .part-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .part-icon {
            font-size: 1.8em;
            margin-right: 12px;
        }
        
        .part-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
        }
        
        .input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .input-field {
            display: flex;
            flex-direction: column;
        }
        
        .input-field label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .input-field input,
        .input-field select,
        .input-field textarea {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        
        .input-field input:focus,
        .input-field select:focus,
        .input-field textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .input-field textarea {
            resize: vertical;
            min-height: 60px;
        }
        
        .btn-auto-search {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 8px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            width: 100%;
        }
        
        .btn-auto-search:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }
        
        .btn-auto-search:disabled {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            cursor: not-allowed;
            opacity: 0.7;
        }
        
        .status-message {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 2px solid #2196f3;
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
            font-size: 0.9em;
            color: #1565c0;
            animation: slideIn 0.3s ease;
        }
        
        .status-message.success {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-color: #4caf50;
            color: #2e7d32;
        }
        
        .status-message.error {
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            border-color: #f44336;
            color: #c62828;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .auto-filled {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%) !important;
            border-color: #4caf50 !important;
            animation: fillHighlight 0.5s ease;
        }
        
        @keyframes fillHighlight {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .image-preview {
            margin-top: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            background: #f5f5f5;
        }
        
        .image-preview img {
            width: 100%;
            height: 250px;
            object-fit: contain;
            display: block;
            padding: 15px;
            background: white;
        }
        
        .summary-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }
        
        .summary-header {
            font-size: 1.8em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .summary-item {
            display: grid;
            grid-template-columns: 150px 1fr 120px;
            gap: 15px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .summary-category {
            font-weight: bold;
            color: #667eea;
        }
        
        .summary-name {
            color: #333;
        }
        
        .summary-price {
            text-align: right;
            font-weight: bold;
            color: #2ecc71;
        }
        
        .total-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            text-align: right;
        }
        
        .total-label {
            font-size: 1.3em;
            color: #333;
            margin-right: 15px;
        }
        
        .total-amount {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            justify-content: center;
        }
        
        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #d0d0d0;
        }
        
        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            color: #856404;
        }
        
        .warning-title {
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .input-group {
                grid-template-columns: 1fr;
            }
            
            .summary-item {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .summary-price {
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„ÅÆ„Ç≠„Éº
        const LOCAL_STORAGE_KEY = 'pc-parts-data';

        // ‰æ°Ê†º„Éá„Éº„Çø„Éô„Éº„ÇπÔºà‰∏ªË¶ÅË£ΩÂìÅ„ÅÆÂèÇËÄÉ‰æ°Ê†º - 2024-2025Âπ¥ÊôÇÁÇπÔºâ
        const priceDatabase = {
            // CPU
            'i7-14700k': { price: '65000', socket: 'LGA1700', tdp: '125' },
            'i5-14600k': { price: '45000', socket: 'LGA1700', tdp: '125' },
            'i9-14900k': { price: '88000', socket: 'LGA1700', tdp: '125' },
            'ryzen 7 7800x3d': { price: '58000', socket: 'AM5', tdp: '120' },
            'ryzen 9 7950x': { price: '85000', socket: 'AM5', tdp: '170' },
            'ryzen 5 7600x': { price: '38000', socket: 'AM5', tdp: '105' },
            
            // GPU
            'rtx 4060': { price: '45000', power: '170' },
            'rtx 4060 ti': { price: '65000', power: '165' },
            'rtx 4070': { price: '85000', power: '200' },
            'rtx 4070 ti': { price: '110000', power: '285' },
            'rtx 4080': { price: '160000', power: '320' },
            'rtx 4090': { price: '280000', power: '450' },
            'rx 7800 xt': { price: '75000', power: '263' },
            'rx 7900 xt': { price: '105000', power: '300' },
            'rx 7900 xtx': { price: '135000', power: '355' },
            
            // „Éû„Ç∂„Éº„Éú„Éº„Éâ
            'z790': { socket: 'LGA1700', chipset: 'Z790' },
            'b760': { socket: 'LGA1700', chipset: 'B760' },
            'x670e': { socket: 'AM5', chipset: 'X670E' },
            'x670': { socket: 'AM5', chipset: 'X670' },
            'b650': { socket: 'AM5', chipset: 'B650' },
            
            // „É°„É¢„É™
            'ddr5': { type: 'DDR5' },
            'ddr4': { type: 'DDR4' },
            
            // OS
            'windows 11 home': { edition: 'Home', license: 'DSPÁâà' },
            'windows 11 pro': { edition: 'Pro', license: 'DSPÁâà' },
        };

        function PCPartsSelector() {
            const [parts, setParts] = useState({
                cpu: { name: '', price: '', socket: '', tdp: '', notes: '', image: '' },
                motherboard: { name: '', price: '', socket: '', chipset: '', formFactor: '', notes: '', image: '' },
                memory: { name: '', price: '', type: '', speed: '', capacity: '', notes: '', image: '' },
                gpu: { name: '', price: '', power: '', notes: '', image: '' },
                storage: { name: '', price: '', type: '', capacity: '', notes: '', image: '' },
                psu: { name: '', price: '', wattage: '', certification: '', notes: '', image: '' },
                case: { name: '', price: '', formFactor: '', notes: '', image: '' },
                cooler: { name: '', price: '', type: '', notes: '', image: '' },
                os: { name: '', price: '', edition: '', license: '', notes: '', image: '' },
            });

            const [warnings, setWarnings] = useState([]);
            const [statusMessages, setStatusMessages] = useState({});
            const [autoFilledFields, setAutoFilledFields] = useState({});
            const [suggestions, setSuggestions] = useState({});
            const [showSuggestions, setShowSuggestions] = useState({});

            const updatePart = (category, field, value) => {
                setParts(prev => ({
                    ...prev,
                    [category]: {
                        ...prev[category],
                        [field]: value
                    }
                }));
            };

            // ‰æ°Ê†º.com„Åã„Çâ‰æ°Ê†º„ÇíÊ§úÁ¥¢Ôºà„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥Ôºâ
            const searchPrice = (productName) => {
                const lowerName = productName.toLowerCase();
                
                // „Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂÆåÂÖ®‰∏ÄËá¥„Åæ„Åü„ÅØÈÉ®ÂàÜ‰∏ÄËá¥„ÇíÊé¢„Åô
                for (const [key, data] of Object.entries(priceDatabase)) {
                    if (lowerName.includes(key) || key.includes(lowerName.replace(/\s+/g, ' '))) {
                        return data;
                    }
                }
                
                // Ë¶ã„Å§„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØnull„ÇíËøî„ÅôÔºàË£ΩÂìÅÂêç„ÅÆÊï∞Â≠ó„Çí‰æ°Ê†º„Å®Ë™§Ë™ç„Åó„Å™„ÅÑÔºâ
                return null;
            };

            // „Çµ„Ç∏„Çß„Çπ„Éà„ÇíÂèñÂæóÔºàÂÖ•ÂäõÂÜÖÂÆπ„Å´Âøú„Åò„Å¶Ôºâ
            const fetchSuggestions = async (category, query = '') => {
                try {
                    const response = await fetch('/api/suggestions', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ category, query })
                    });

                    if (response.ok) {
                        const data = await response.json();
                        setSuggestions(prev => ({ ...prev, [category]: data.suggestions || [] }));
                    }
                } catch (error) {
                    console.error('„Çµ„Ç∏„Çß„Çπ„ÉàÂèñÂæó„Ç®„É©„Éº:', error);
                }
            };

            // ÂÖ•ÂäõÂ§âÊõ¥ÊôÇ„Å´„Çµ„Ç∏„Çß„Çπ„Éà„ÇíÊõ¥Êñ∞
            const handleInputChange = (category, value) => {
                updatePart(category, 'name', value);

                // 2ÊñáÂ≠ó‰ª•‰∏äÂÖ•Âäõ„Åï„Çå„Åü„Çâ„Çµ„Ç∏„Çß„Çπ„Éà„ÇíÂèñÂæó
                if (value.length >= 2) {
                    fetchSuggestions(category, value);
                    setShowSuggestions(prev => ({ ...prev, [category]: true }));
                } else if (value.length === 0) {
                    // Á©∫„ÅÆÂ†¥Âêà„ÅØ‰∫∫Ê∞ó„É©„É≥„Ç≠„É≥„Ç∞„ÇíË°®Á§∫
                    fetchSuggestions(category, '');
                    setShowSuggestions(prev => ({ ...prev, [category]: true }));
                }
            };

            // ÂÖ•Âäõ„Éï„Ç©„Éº„Ç´„ÇπÊôÇ„Å´„Çµ„Ç∏„Çß„Çπ„Éà„ÇíË°®Á§∫
            const handleInputFocus = (category) => {
                const currentValue = parts[category].name || '';
                fetchSuggestions(category, currentValue);
                setShowSuggestions(prev => ({ ...prev, [category]: true }));
            };

            // „Çµ„Ç∏„Çß„Çπ„Éà„ÇíÈÅ∏Êäû
            const selectSuggestion = (category, suggestion) => {
                updatePart(category, 'name', suggestion);
                setShowSuggestions(prev => ({ ...prev, [category]: false }));
            };

            // Ëá™ÂãïÊ§úÁ¥¢„ÉªËá™ÂãïÂÖ•Âäõ
            const autoSearchAndFill = async (category) => {
                const productName = parts[category].name;
                
                if (!productName || productName.trim().length < 3) {
                    setStatusMessages(prev => ({
                        ...prev,
                        [category]: { type: 'error', text: 'Ë£ΩÂìÅÂêç„Çí3ÊñáÂ≠ó‰ª•‰∏äÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ' }
                    }));
                    setTimeout(() => {
                        setStatusMessages(prev => ({ ...prev, [category]: null }));
                    }, 3000);
                    return;
                }

                // Ê§úÁ¥¢‰∏≠„É°„ÉÉ„Çª„Éº„Ç∏
                setStatusMessages(prev => ({
                    ...prev,
                    [category]: { type: 'loading', text: 'üîç ‰æ°Ê†º.com„Åã„ÇâÊúÄÂÆâÂÄ§„ÇíËá™ÂãïÂèñÂæó‰∏≠...' }
                }));

                // „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI„Åã„ÇâÂÆüÈöõ„ÅÆ‰æ°Ê†º„ÇíÂèñÂæó
                try {
                    const response = await fetch('/api/search', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            productName: productName,
                            category: category
                        })
                    });

                    let apiData = {};
                    if (response.ok) {
                        apiData = await response.json();
                        console.log('‰æ°Ê†º.com„Åã„ÇâÂèñÂæó:', apiData);
                    }

                    // ‰æ°Ê†º„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÊ§úÁ¥¢Ôºà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
                    const priceData = searchPrice(productName);
                    
                    // Ë£ΩÂìÅÂêç„Åã„Çâ„Çπ„Éö„ÉÉ„ÇØ„ÇíÊäΩÂá∫
                    const extractedSpecs = extractSpecsFromName(productName, category);
                    
                    const fieldsUpdated = [];

                    // APIÂÑ™ÂÖà„Åß‰æ°Ê†º„ÇíÂèñÂæóÔºàÊó¢Â≠ò„Éá„Éº„Çø„ÇÇ‰∏äÊõ∏„ÅçÔºâ
                    if (apiData.price) {
                        updatePart(category, 'price', apiData.price);
                        fieldsUpdated.push('price');
                        console.log('‰æ°Ê†º.com„Åã„Çâ‰æ°Ê†ºÂèñÂæóÊàêÂäü:', apiData.price);
                    } else if (priceData && priceData.price) {
                        updatePart(category, 'price', priceData.price);
                        fieldsUpdated.push('price');
                    }

                    // API„Åã„ÇâÂÖ®„Å¶„ÅÆ„Çπ„Éö„ÉÉ„ÇØÊÉÖÂ†±„ÇíÂèñÂæó
                    const specFields = ['socket', 'chipset', 'formFactor', 'type', 'speed', 'capacity',
                                       'power', 'wattage', 'certification', 'tdp', 'edition', 'license'];

                    specFields.forEach(field => {
                        if (apiData[field]) {
                            updatePart(category, field, apiData[field]);
                            if (!fieldsUpdated.includes(field)) {
                                fieldsUpdated.push(field);
                            }
                            console.log(`${field}ÂèñÂæó:`, apiData[field]);
                        }
                    });

                    // ‰æ°Ê†º„Éá„Éº„Çø„Åã„ÇâÂÖ•ÂäõÔºàÊó¢Â≠ò„Éá„Éº„Çø„ÇÇ‰∏äÊõ∏„ÅçÔºâ
                    if (priceData) {
                        Object.entries(priceData).forEach(([field, value]) => {
                            if (field !== 'price' && value) {
                                updatePart(category, field, value);
                                if (!fieldsUpdated.includes(field)) {
                                    fieldsUpdated.push(field);
                                }
                            }
                        });
                    }

                    // ÊäΩÂá∫„Åó„Åü„Çπ„Éö„ÉÉ„ÇØ„Åã„ÇâÂÖ•ÂäõÔºàÊó¢Â≠ò„Éá„Éº„Çø„ÇÇ‰∏äÊõ∏„ÅçÔºâ
                    Object.entries(extractedSpecs).forEach(([field, value]) => {
                        if (value) {
                            updatePart(category, field, value);
                            if (!fieldsUpdated.includes(field)) {
                                fieldsUpdated.push(field);
                            }
                        }
                    });

                    // API„Åã„ÇâÁîªÂÉè„ÇíÂèñÂæóÔºàÊó¢Â≠ò„Éá„Éº„Çø„ÇÇ‰∏äÊõ∏„ÅçÔºâ
                    if (apiData.image) {
                        updatePart(category, 'image', apiData.image);
                        fieldsUpdated.push('image');
                    } else if (!parts[category].image) {
                        // „Çµ„É≥„Éó„É´ÁîªÂÉè
                        const imageUrls = {
                            cpu: 'https://via.placeholder.com/400x300/667eea/ffffff?text=CPU',
                            motherboard: 'https://via.placeholder.com/400x300/764ba2/ffffff?text=Motherboard',
                            memory: 'https://via.placeholder.com/400x300/2ecc71/ffffff?text=RAM',
                            gpu: 'https://via.placeholder.com/400x300/e74c3c/ffffff?text=GPU',
                            storage: 'https://via.placeholder.com/400x300/3498db/ffffff?text=Storage',
                            psu: 'https://via.placeholder.com/400x300/f39c12/ffffff?text=PSU',
                            case: 'https://via.placeholder.com/400x300/9b59b6/ffffff?text=Case',
                            cooler: 'https://via.placeholder.com/400x300/1abc9c/ffffff?text=Cooler',
                            os: 'https://via.placeholder.com/400x300/3498db/ffffff?text=Windows'
                        };
                        updatePart(category, 'image', imageUrls[category]);
                        fieldsUpdated.push('image');
                    }

                    // „Éè„Ç§„É©„Ç§„ÉàË°®Á§∫
                    if (fieldsUpdated.length > 0) {
                        setAutoFilledFields(prev => ({
                            ...prev,
                            [category]: fieldsUpdated
                        }));
                        
                        setTimeout(() => {
                            setAutoFilledFields(prev => ({
                                ...prev,
                                [category]: []
                            }));
                        }, 3000);
                        
                        const hasPriceData = fieldsUpdated.includes('price');
                        const source = apiData.source || '„Éá„Éº„Çø„Éô„Éº„Çπ';
                        const confidence = apiData.confidence;
                        
                        let priceMessage = '';
                        if (hasPriceData) {
                            const priceValue = parts[category].price || apiData.price;
                            if (source === 'AIÊé®ÂÆö') {
                                const confidenceEmoji = confidence === 'high' ? 'üéØ' : confidence === 'medium' ? 'ü§î' : 'üí≠';
                                priceMessage = `${confidenceEmoji} AIÊé®ÂÆö‰æ°Ê†ºÔø•${priceValue}„ÇíÂê´„ÇÄ${fieldsUpdated.length}ÂÄã„ÅÆÈ†ÖÁõÆ„ÇíËá™ÂãïÂèñÂæó„Åó„Åæ„Åó„ÅüÔºÅ`;
                                if (apiData.reasoning) {
                                    priceMessage += `\nüí° ${apiData.reasoning}`;
                                }
                            } else {
                                priceMessage = `‚úÖ ${source}„Åã„ÇâÊúÄÂÆâÂÄ§Ôø•${priceValue}„ÇíÂê´„ÇÄ${fieldsUpdated.length}ÂÄã„ÅÆÈ†ÖÁõÆ„ÇíËá™ÂãïÂèñÂæó„Åó„Åæ„Åó„ÅüÔºÅ`;
                            }
                        } else {
                            priceMessage = `‚úÖ ${fieldsUpdated.length}ÂÄã„ÅÆ„Çπ„Éö„ÉÉ„ÇØÈ†ÖÁõÆ„ÇíËá™ÂãïÂÖ•Âäõ„Åó„Åæ„Åó„Åü„ÄÇ`;
                        }
                        
                        setStatusMessages(prev => ({
                            ...prev,
                            [category]: { 
                                type: 'success', 
                                text: priceMessage
                            }
                        }));
                    } else {
                        setStatusMessages(prev => ({
                            ...prev,
                            [category]: { 
                                type: 'error', 
                                text: 'üí° ‰æ°Ê†º.com„ÅßÂïÜÂìÅ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÈñã„ÅÑ„Åü„Éö„Éº„Ç∏„ÅßÂïÜÂìÅÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÊâãÂãï„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' 
                            }
                        }));
                    }

                    setTimeout(() => {
                        setStatusMessages(prev => ({ ...prev, [category]: null }));
                    }, 8000);
                    
                } catch (error) {
                    console.error('Ëá™ÂãïÂèñÂæó„Ç®„É©„Éº:', error);
                    
                    // „Ç®„É©„ÉºÊôÇ„ÇÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂá¶ÁêÜÔºàÊó¢Â≠ò„Éá„Éº„Çø„ÇÇ‰∏äÊõ∏„ÅçÔºâ
                    const priceData = searchPrice(productName);
                    const extractedSpecs = extractSpecsFromName(productName, category);
                    const fieldsUpdated = [];

                    if (priceData) {
                        Object.entries(priceData).forEach(([field, value]) => {
                            if (value) {
                                updatePart(category, field, value);
                                fieldsUpdated.push(field);
                            }
                        });
                    }

                    Object.entries(extractedSpecs).forEach(([field, value]) => {
                        if (value) {
                            updatePart(category, field, value);
                            if (!fieldsUpdated.includes(field)) {
                                fieldsUpdated.push(field);
                            }
                        }
                    });
                    
                    if (fieldsUpdated.length > 0) {
                        setAutoFilledFields(prev => ({
                            ...prev,
                            [category]: fieldsUpdated
                        }));
                        
                        setTimeout(() => {
                            setAutoFilledFields(prev => ({
                                ...prev,
                                [category]: []
                            }));
                        }, 3000);
                    }
                    
                    setStatusMessages(prev => ({
                        ...prev,
                        [category]: { 
                            type: 'error', 
                            text: '‚ö†Ô∏è Ëá™ÂãïÂèñÂæó„Çµ„Éº„Éê„Éº„Å´Êé•Á∂ö„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ‰æ°Ê†º.com„ÅÆ„Éö„Éº„Ç∏„ÅßÊÉÖÂ†±„ÇíÁ¢∫Ë™ç„Åó„ÄÅÊâãÂãï„ÅßÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' 
                        }
                    }));
                    
                    setTimeout(() => {
                        setStatusMessages(prev => ({ ...prev, [category]: null }));
                    }, 8000);
                }
            };

            const extractSpecsFromName = (productName, category) => {
                const specs = {};
                const upperName = productName.toUpperCase();
                
                if (category === 'cpu') {
                    const socketMatch = productName.match(/(LGA\d+|AM\d+|AM5|TR\d+)/i);
                    if (socketMatch) specs.socket = socketMatch[1].toUpperCase();
                    
                    const tdpMatch = productName.match(/(\d+)W|TDP[:\s]*(\d+)/i);
                    if (tdpMatch) specs.tdp = tdpMatch[1] || tdpMatch[2];
                }
                else if (category === 'motherboard') {
                    const socketMatch = productName.match(/(LGA\d+|AM\d+|AM5|TR\d+)/i);
                    if (socketMatch) specs.socket = socketMatch[1].toUpperCase();
                    
                    const chipsetMatch = productName.match(/(Z\d+|B\d+|H\d+|X\d+)/i);
                    if (chipsetMatch) specs.chipset = chipsetMatch[1].toUpperCase();
                    
                    if (upperName.includes('MINI-ITX') || upperName.includes('MINI ITX')) {
                        specs.formFactor = 'Mini-ITX';
                    } else if (upperName.includes('MICRO-ATX') || upperName.includes('M-ATX') || upperName.includes('MATX')) {
                        specs.formFactor = 'Micro-ATX';
                    } else if (upperName.includes('E-ATX') || upperName.includes('EATX')) {
                        specs.formFactor = 'E-ATX';
                    } else if (upperName.includes('ATX')) {
                        specs.formFactor = 'ATX';
                    }
                }
                else if (category === 'memory') {
                    if (upperName.includes('DDR5')) specs.type = 'DDR5';
                    else if (upperName.includes('DDR4')) specs.type = 'DDR4';
                    
                    const speedMatch = productName.match(/(\d{4,5})\s*MHz/i);
                    if (speedMatch) specs.speed = speedMatch[1] + 'MHz';
                    
                    const capacityMatch = productName.match(/(\d+)\s*GB/i);
                    if (capacityMatch) specs.capacity = capacityMatch[1] + 'GB';
                }
                else if (category === 'gpu') {
                    const powerMatch = productName.match(/(\d{2,3})\s*W/i);
                    if (powerMatch) specs.power = powerMatch[1];
                }
                else if (category === 'storage') {
                    if (upperName.includes('NVME') || upperName.includes('M.2')) {
                        specs.type = 'M.2 NVMe SSD';
                    } else if (upperName.includes('SATA') && upperName.includes('SSD')) {
                        specs.type = 'SATA SSD';
                    } else if (upperName.includes('HDD')) {
                        specs.type = 'HDD';
                    } else if (upperName.includes('SSD')) {
                        specs.type = 'M.2 NVMe SSD';
                    }
                    
                    const capacityMatch = productName.match(/(\d+)\s*(TB|GB)/i);
                    if (capacityMatch) {
                        specs.capacity = capacityMatch[1] + capacityMatch[2].toUpperCase();
                    }
                }
                else if (category === 'psu') {
                    const wattageMatch = productName.match(/(\d{3,4})\s*W/i);
                    if (wattageMatch) specs.wattage = wattageMatch[1];
                    
                    if (productName.match(/Titanium/i)) specs.certification = '80 PLUS Titanium';
                    else if (productName.match(/Platinum/i)) specs.certification = '80 PLUS Platinum';
                    else if (productName.match(/Gold/i)) specs.certification = '80 PLUS Gold';
                    else if (productName.match(/Silver/i)) specs.certification = '80 PLUS Silver';
                    else if (productName.match(/Bronze/i)) specs.certification = '80 PLUS Bronze';
                }
                else if (category === 'cooler') {
                    if (productName.match(/Ê∞¥ÂÜ∑/)) {
                        specs.type = productName.match(/Á∞°Êòì/i) ? 'Á∞°ÊòìÊ∞¥ÂÜ∑' : 'Êú¨Ê†ºÊ∞¥ÂÜ∑';
                    } else if (productName.match(/Á©∫ÂÜ∑/i) || productName.match(/air|tower/i)) {
                        specs.type = 'Á©∫ÂÜ∑';
                    }
                }
                else if (category === 'os') {
                    // WindowsÁâàÂà§ÂÆö
                    if (productName.match(/Pro/i)) {
                        specs.edition = 'Pro';
                    } else if (productName.match(/Home/i)) {
                        specs.edition = 'Home';
                    }
                    
                    // „É©„Ç§„Çª„É≥„ÇπÁ®ÆÈ°û
                    if (productName.match(/DSP|OEM/i)) {
                        specs.license = 'DSPÁâà';
                    } else if (productName.match(/„Éë„ÉÉ„Ç±„Éº„Ç∏|retail/i)) {
                        specs.license = '„Éë„ÉÉ„Ç±„Éº„Ç∏Áâà';
                    } else if (productName.match(/„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ|download/i)) {
                        specs.license = '„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÁâà';
                    }
                }
                
                return specs;
            };

            const calculateTotal = () => {
                return Object.values(parts).reduce((sum, part) => {
                    const price = parseFloat(part.price) || 0;
                    return sum + price;
                }, 0);
            };

            const checkCompatibility = () => {
                const newWarnings = [];

                if (parts.cpu.socket && parts.motherboard.socket && 
                    parts.cpu.socket !== parts.motherboard.socket) {
                    newWarnings.push('‚ö†Ô∏è CPU„Å®„Éû„Ç∂„Éº„Éú„Éº„Éâ„ÅÆ„ÇΩ„Ç±„ÉÉ„Éà„Åå‰∏ÄËá¥„Åó„Åæ„Åõ„Çì');
                }

                if (parts.case.formFactor && parts.motherboard.formFactor) {
                    const caseSize = parts.case.formFactor.toLowerCase();
                    const mbSize = parts.motherboard.formFactor.toLowerCase();
                    if (caseSize.includes('mini') && !mbSize.includes('mini') && !mbSize.includes('micro')) {
                        newWarnings.push('‚ö†Ô∏è „Ç±„Éº„Çπ„ÅÆ„Çµ„Ç§„Ç∫„Å´ÂØæ„Åó„Å¶„Éû„Ç∂„Éº„Éú„Éº„Éâ„ÅåÂ§ß„Åç„Åô„Åé„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô');
                    }
                }

                const cpuTdp = parseFloat(parts.cpu.tdp) || 0;
                const gpuPower = parseFloat(parts.gpu.power) || 0;
                const psuWattage = parseFloat(parts.psu.wattage) || 0;
                const estimatedPower = cpuTdp + gpuPower + 150;

                if (psuWattage > 0 && estimatedPower > psuWattage * 0.8) {
                    newWarnings.push(`‚ö†Ô∏è ÈõªÊ∫êÂÆπÈáè„Åå‰∏çË∂≥„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„ÅôÔºàÊé®ÂÆöÊ∂àË≤ªÈõªÂäõ: ${estimatedPower}WÔºâ`);
                }

                setWarnings(newWarnings);
            };

            useEffect(() => {
                checkCompatibility();
            }, [parts]);

            const exportToText = () => {
                let text = '=== Ëá™‰ΩúPC„Éë„Éº„ÉÑ„É™„Çπ„Éà ===\n\n';
                
                const categories = {
                    cpu: 'CPU',
                    motherboard: '„Éû„Ç∂„Éº„Éú„Éº„Éâ',
                    memory: '„É°„É¢„É™',
                    gpu: '„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Éú„Éº„Éâ',
                    storage: '„Çπ„Éà„É¨„Éº„Ç∏',
                    psu: 'ÈõªÊ∫ê„É¶„Éã„ÉÉ„Éà',
                    case: 'PC„Ç±„Éº„Çπ',
                    cooler: 'CPU„ÇØ„Éº„É©„Éº',
                    os: 'OS'
                };

                Object.entries(categories).forEach(([key, label]) => {
                    const part = parts[key];
                    if (part.name) {
                        text += `„Äê${label}„Äë\n`;
                        text += `„ÄÄË£ΩÂìÅÂêç: ${part.name}\n`;
                        if (part.price) text += `„ÄÄ‰æ°Ê†º: ¬•${parseFloat(part.price).toLocaleString()}\n`;
                        
                        if (key === 'cpu' && part.socket) text += `„ÄÄ„ÇΩ„Ç±„ÉÉ„Éà: ${part.socket}\n`;
                        if (key === 'cpu' && part.tdp) text += `„ÄÄTDP: ${part.tdp}W\n`;
                        if (key === 'motherboard' && part.socket) text += `„ÄÄ„ÇΩ„Ç±„ÉÉ„Éà: ${part.socket}\n`;
                        if (key === 'motherboard' && part.chipset) text += `„ÄÄ„ÉÅ„ÉÉ„Éó„Çª„ÉÉ„Éà: ${part.chipset}\n`;
                        if (key === 'memory' && part.type) text += `„ÄÄ„Çø„Ç§„Éó: ${part.type}\n`;
                        if (key === 'memory' && part.capacity) text += `„ÄÄÂÆπÈáè: ${part.capacity}\n`;
                        if (key === 'gpu' && part.power) text += `„ÄÄÊ∂àË≤ªÈõªÂäõ: ${part.power}W\n`;
                        if (key === 'psu' && part.wattage) text += `„ÄÄÂÆπÈáè: ${part.wattage}W\n`;
                        if (key === 'os' && part.edition) text += `„ÄÄ„Ç®„Éá„Ç£„Ç∑„Éß„É≥: ${part.edition}\n`;
                        if (key === 'os' && part.license) text += `„ÄÄ„É©„Ç§„Çª„É≥„Çπ: ${part.license}\n`;
                        
                        if (part.image) text += `„ÄÄÁîªÂÉèURL: ${part.image}\n`;
                        if (part.notes) text += `„ÄÄ„É°„É¢: ${part.notes}\n`;
                        text += '\n';
                    }
                });

                text += `\nÂêàË®àÈáëÈ°ç: ¬•${calculateTotal().toLocaleString()}\n`;

                if (warnings.length > 0) {
                    text += '\n„Äê‰∫íÊèõÊÄß„ÅÆË≠¶Âëä„Äë\n';
                    warnings.forEach(warning => {
                        text += `${warning}\n`;
                    });
                }

                const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'pc-parts-list.txt';
                a.click();
                URL.revokeObjectURL(url);
            };

            const clearAll = () => {
                if (confirm('„Åô„Åπ„Å¶„ÅÆ„Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åô„ÅãÔºü')) {
                    setParts({
                        cpu: { name: '', price: '', socket: '', tdp: '', notes: '', image: '' },
                        motherboard: { name: '', price: '', socket: '', chipset: '', formFactor: '', notes: '', image: '' },
                        memory: { name: '', price: '', type: '', speed: '', capacity: '', notes: '', image: '' },
                        gpu: { name: '', price: '', power: '', notes: '', image: '' },
                        storage: { name: '', price: '', type: '', capacity: '', notes: '', image: '' },
                        psu: { name: '', price: '', wattage: '', certification: '', notes: '', image: '' },
                        case: { name: '', price: '', formFactor: '', notes: '', image: '' },
                        cooler: { name: '', price: '', type: '', notes: '', image: '' },
                        os: { name: '', price: '', edition: '', license: '', notes: '', image: '' },
                    });
                    setStatusMessages({});
                    setAutoFilledFields({});
                }
            };

            const isFieldAutoFilled = (category, field) => {
                return autoFilledFields[category]?.includes(field);
            };

            const renderPartSection = (category, icon, title, fields) => {
                const part = parts[category];
                const status = statusMessages[category];
                
                return (
                    <div className="part-section">
                        <div className="part-header">
                            <span className="part-icon">{icon}</span>
                            <span className="part-title">{title}</span>
                        </div>
                        
                        <div className="input-group">
                            <div className="input-field" style={{position: 'relative'}}>
                                <label>Ë£ΩÂìÅÂêç„ÉªÂûãÁï™</label>
                                <input
                                    type="text"
                                    placeholder={`‰æã: ${fields.namePlaceholder}`}
                                    value={part.name}
                                    onChange={(e) => handleInputChange(category, e.target.value)}
                                    onFocus={() => handleInputFocus(category)}
                                    onBlur={() => setTimeout(() => setShowSuggestions(prev => ({ ...prev, [category]: false })), 200)}
                                    onKeyDown={(e) => {
                                        if (e.key === 'Enter' && status?.type !== 'loading') {
                                            autoSearchAndFill(category);
                                        }
                                    }}
                                />
                                {showSuggestions[category] && suggestions[category] && suggestions[category].length > 0 && (
                                    <div style={{
                                        position: 'absolute',
                                        top: '100%',
                                        left: 0,
                                        right: 0,
                                        backgroundColor: 'white',
                                        border: '1px solid #ddd',
                                        borderRadius: '4px',
                                        maxHeight: '300px',
                                        overflowY: 'auto',
                                        zIndex: 1000,
                                        boxShadow: '0 4px 6px rgba(0,0,0,0.1)'
                                    }}>
                                        {suggestions[category].map((suggestion, idx) => (
                                            <div
                                                key={idx}
                                                onClick={() => selectSuggestion(category, suggestion)}
                                                style={{
                                                    padding: '10px',
                                                    cursor: 'pointer',
                                                    borderBottom: idx < suggestions[category].length - 1 ? '1px solid #eee' : 'none',
                                                    fontSize: '13px'
                                                }}
                                                onMouseEnter={(e) => e.target.style.backgroundColor = '#f5f5f5'}
                                                onMouseLeave={(e) => e.target.style.backgroundColor = 'white'}
                                            >
                                                {suggestion}
                                            </div>
                                        ))}
                                    </div>
                                )}
                                <button
                                    className="btn-auto-search"
                                    onClick={() => autoSearchAndFill(category)}
                                    disabled={status?.type === 'loading'}
                                >
                                    {status?.type === 'loading' ? 'üîç Ê§úÁ¥¢‰∏≠...' : 'üè∑Ô∏è ‰æ°Ê†º.comÊ§úÁ¥¢ÔºÜËá™ÂãïÂÖ•Âäõ'}
                                </button>
                            </div>
                            
                            <div className="input-field">
                                <label>‰æ°Ê†ºÔºàÂÜÜÔºâ</label>
                                <input
                                    type="text"
                                    placeholder="‰æ°Ê†º.com„Åã„ÇâËá™ÂãïÂèñÂæó„Åï„Çå„Åæ„Åô"
                                    value={part.price ? `¬•${parseFloat(part.price).toLocaleString()}` : ''}
                                    readOnly
                                    className={isFieldAutoFilled(category, 'price') ? 'auto-filled' : ''}
                                    style={{cursor: 'default', backgroundColor: '#f5f5f5'}}
                                />
                            </div>
                            
                            {fields.extraFields && fields.extraFields(part, updatePart, category, isFieldAutoFilled)}
                        </div>
                        
                        {status && (
                            <div className={`status-message ${status.type}`}>
                                {status.text}
                            </div>
                        )}

                        {part.image && (
                            <div className="image-preview">
                                <img
                                    src={part.image}
                                    alt={part.name || title}
                                    onError={(e) => {
                                        e.target.style.display = 'none';
                                        e.target.parentElement.innerHTML = '<div style="padding: 50px; text-align: center; color: #999;">ÁîªÂÉè„ÇíË™≠„ÅøËæº„ÇÅ„Åæ„Åõ„Çì„Åß„Åó„Åü</div>';
                                    }}
                                />
                            </div>
                        )}

                        <div className="input-field" style={{marginTop: '10px'}}>
                            <label>„É°„É¢</label>
                            <textarea 
                                placeholder="ÂÇôËÄÉ„ÇÑURLÁ≠â"
                                value={part.notes}
                                onChange={(e) => updatePart(category, 'notes', e.target.value)}
                            />
                        </div>
                    </div>
                );
            };

            return (
                <div className="container">
                    <div className="header">
                        <h1>üñ•Ô∏è Ëá™‰ΩúPC„Éë„Éº„ÉÑÈÅ∏ÂÆö„Ç¢„Éó„É™</h1>
                        <p>üè∑Ô∏è ÂûãÁï™ÂÖ•Âäõ‚Üí„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ‚Üí‰æ°Ê†º.comÊúÄÂÆâÂÄ§„ÇíËá™ÂãïÂèñÂæóÔºÅ</p>
                    </div>

                    <div className="content">
                        {renderPartSection('cpu', 'üî≤', 'CPU', {
                            namePlaceholder: 'Core i7-14700K',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>„ÇΩ„Ç±„ÉÉ„Éà</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.socket}
                                            onChange={(e) => update(cat, 'socket', e.target.value)}
                                            className={isAutoFilled(cat, 'socket') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                    <div className="input-field">
                                        <label>TDPÔºàWÔºâ</label>
                                        <input 
                                            type="number" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.tdp}
                                            onChange={(e) => update(cat, 'tdp', e.target.value)}
                                            className={isAutoFilled(cat, 'tdp') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                </>
                            )
                        })}

                        {renderPartSection('motherboard', 'üîå', '„Éû„Ç∂„Éº„Éú„Éº„Éâ', {
                            namePlaceholder: 'ASUS ROG STRIX Z790-E ATX',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>„ÇΩ„Ç±„ÉÉ„Éà</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.socket}
                                            onChange={(e) => update(cat, 'socket', e.target.value)}
                                            className={isAutoFilled(cat, 'socket') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                    <div className="input-field">
                                        <label>„ÉÅ„ÉÉ„Éó„Çª„ÉÉ„Éà</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.chipset}
                                            onChange={(e) => update(cat, 'chipset', e.target.value)}
                                            className={isAutoFilled(cat, 'chipset') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                    <div className="input-field">
                                        <label>„Éï„Ç©„Éº„É†„Éï„Ç°„ÇØ„Çø„Éº</label>
                                        <select 
                                            value={part.formFactor}
                                            onChange={(e) => update(cat, 'formFactor', e.target.value)}
                                            className={isAutoFilled(cat, 'formFactor') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="ATX">ATX</option>
                                            <option value="Micro-ATX">Micro-ATX</option>
                                            <option value="Mini-ITX">Mini-ITX</option>
                                            <option value="E-ATX">E-ATX</option>
                                        </select>
                                    </div>
                                </>
                            )
                        })}

                        {renderPartSection('memory', 'üíæ', '„É°„É¢„É™', {
                            namePlaceholder: 'Corsair Vengeance DDR5 32GB 6000MHz',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>„Çø„Ç§„Éó</label>
                                        <select 
                                            value={part.type}
                                            onChange={(e) => update(cat, 'type', e.target.value)}
                                            className={isAutoFilled(cat, 'type') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="DDR5">DDR5</option>
                                            <option value="DDR4">DDR4</option>
                                        </select>
                                    </div>
                                    <div className="input-field">
                                        <label>ÈÄüÂ∫¶</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.speed}
                                            onChange={(e) => update(cat, 'speed', e.target.value)}
                                            className={isAutoFilled(cat, 'speed') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                    <div className="input-field">
                                        <label>ÂÆπÈáè</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.capacity}
                                            onChange={(e) => update(cat, 'capacity', e.target.value)}
                                            className={isAutoFilled(cat, 'capacity') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                </>
                            )
                        })}

                        {renderPartSection('gpu', 'üéÆ', '„Ç∞„É©„Éï„Ç£„ÉÉ„ÇØ„Éú„Éº„Éâ', {
                            namePlaceholder: 'NVIDIA GeForce RTX 4070 Ti',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <div className="input-field">
                                    <label>Ê∂àË≤ªÈõªÂäõÔºàWÔºâ</label>
                                    <input 
                                        type="number" 
                                        placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                        value={part.power}
                                        onChange={(e) => update(cat, 'power', e.target.value)}
                                        className={isAutoFilled(cat, 'power') ? 'auto-filled' : ''}
                                    />
                                </div>
                            )
                        })}

                        {renderPartSection('storage', 'üíø', '„Çπ„Éà„É¨„Éº„Ç∏', {
                            namePlaceholder: 'Samsung 980 PRO 1TB NVMe SSD',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>„Çø„Ç§„Éó</label>
                                        <select 
                                            value={part.type}
                                            onChange={(e) => update(cat, 'type', e.target.value)}
                                            className={isAutoFilled(cat, 'type') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="M.2 NVMe SSD">M.2 NVMe SSD</option>
                                            <option value="SATA SSD">SATA SSD</option>
                                            <option value="HDD">HDD</option>
                                        </select>
                                    </div>
                                    <div className="input-field">
                                        <label>ÂÆπÈáè</label>
                                        <input 
                                            type="text" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.capacity}
                                            onChange={(e) => update(cat, 'capacity', e.target.value)}
                                            className={isAutoFilled(cat, 'capacity') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                </>
                            )
                        })}

                        {renderPartSection('psu', '‚ö°', 'ÈõªÊ∫ê„É¶„Éã„ÉÉ„Éà', {
                            namePlaceholder: 'Corsair RM850x 850W Gold',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>ÂÆπÈáèÔºàWÔºâ</label>
                                        <input 
                                            type="number" 
                                            placeholder="Ëá™ÂãïÂÖ•Âäõ"
                                            value={part.wattage}
                                            onChange={(e) => update(cat, 'wattage', e.target.value)}
                                            className={isAutoFilled(cat, 'wattage') ? 'auto-filled' : ''}
                                        />
                                    </div>
                                    <div className="input-field">
                                        <label>Ë™çË®º</label>
                                        <select 
                                            value={part.certification}
                                            onChange={(e) => update(cat, 'certification', e.target.value)}
                                            className={isAutoFilled(cat, 'certification') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="80 PLUS Titanium">80 PLUS Titanium</option>
                                            <option value="80 PLUS Platinum">80 PLUS Platinum</option>
                                            <option value="80 PLUS Gold">80 PLUS Gold</option>
                                            <option value="80 PLUS Silver">80 PLUS Silver</option>
                                            <option value="80 PLUS Bronze">80 PLUS Bronze</option>
                                        </select>
                                    </div>
                                </>
                            )
                        })}

                        {renderPartSection('case', 'üì¶', 'PC„Ç±„Éº„Çπ', {
                            namePlaceholder: 'NZXT H7 Flow Mid Tower ATX',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <div className="input-field">
                                    <label>ÂØæÂøú„Éï„Ç©„Éº„É†„Éï„Ç°„ÇØ„Çø„Éº</label>
                                    <select 
                                        value={part.formFactor}
                                        onChange={(e) => update(cat, 'formFactor', e.target.value)}
                                        className={isAutoFilled(cat, 'formFactor') ? 'auto-filled' : ''}
                                    >
                                        <option value="">ÈÅ∏Êäû</option>
                                        <option value="Full Tower">Full Tower (ATX/E-ATXÂØæÂøú)</option>
                                        <option value="Mid Tower">Mid Tower (ATXÂØæÂøú)</option>
                                        <option value="Mini Tower">Mini Tower (Micro-ATXÂØæÂøú)</option>
                                        <option value="Small Form Factor">Small Form Factor (Mini-ITXÂØæÂøú)</option>
                                    </select>
                                </div>
                            )
                        })}

                        {renderPartSection('cooler', '‚ùÑÔ∏è', 'CPU„ÇØ„Éº„É©„Éº', {
                            namePlaceholder: 'Noctua NH-D15 Á©∫ÂÜ∑',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <div className="input-field">
                                    <label>„Çø„Ç§„Éó</label>
                                    <select 
                                        value={part.type}
                                        onChange={(e) => update(cat, 'type', e.target.value)}
                                        className={isAutoFilled(cat, 'type') ? 'auto-filled' : ''}
                                    >
                                        <option value="">ÈÅ∏Êäû</option>
                                        <option value="Á©∫ÂÜ∑">Á©∫ÂÜ∑</option>
                                        <option value="Á∞°ÊòìÊ∞¥ÂÜ∑">Á∞°ÊòìÊ∞¥ÂÜ∑</option>
                                        <option value="Êú¨Ê†ºÊ∞¥ÂÜ∑">Êú¨Ê†ºÊ∞¥ÂÜ∑</option>
                                    </select>
                                </div>
                            )
                        })}

                        {renderPartSection('os', 'üíª', 'OSÔºà„Ç™„Éö„É¨„Éº„ÉÜ„Ç£„É≥„Ç∞„Ç∑„Çπ„ÉÜ„É†Ôºâ', {
                            namePlaceholder: 'Windows 11 Home DSPÁâà',
                            extraFields: (part, update, cat, isAutoFilled) => (
                                <>
                                    <div className="input-field">
                                        <label>„Ç®„Éá„Ç£„Ç∑„Éß„É≥</label>
                                        <select 
                                            value={part.edition}
                                            onChange={(e) => update(cat, 'edition', e.target.value)}
                                            className={isAutoFilled(cat, 'edition') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="Home">Home</option>
                                            <option value="Pro">Pro</option>
                                        </select>
                                    </div>
                                    <div className="input-field">
                                        <label>„É©„Ç§„Çª„É≥„ÇπÁ®ÆÈ°û</label>
                                        <select 
                                            value={part.license}
                                            onChange={(e) => update(cat, 'license', e.target.value)}
                                            className={isAutoFilled(cat, 'license') ? 'auto-filled' : ''}
                                        >
                                            <option value="">ÈÅ∏Êäû</option>
                                            <option value="DSPÁâà">DSPÁâà</option>
                                            <option value="„Éë„ÉÉ„Ç±„Éº„Ç∏Áâà">„Éë„ÉÉ„Ç±„Éº„Ç∏Áâà</option>
                                            <option value="„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÁâà">„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÁâà</option>
                                        </select>
                                    </div>
                                </>
                            )
                        })}

                        {warnings.length > 0 && (
                            <div className="warning">
                                <div className="warning-title">‚ö†Ô∏è ‰∫íÊèõÊÄß„ÅÆÁ¢∫Ë™ç„ÅåÂøÖË¶Å„Åß„Åô</div>
                                {warnings.map((warning, index) => (
                                    <div key={index}>{warning}</div>
                                ))}
                            </div>
                        )}

                        <div className="summary-section">
                            <div className="summary-header">üìã „Éë„Éº„ÉÑ‰∏ÄË¶ß</div>
                            
                            {Object.entries({
                                cpu: 'CPU',
                                motherboard: '„Éû„Ç∂„Éº„Éú„Éº„Éâ',
                                memory: '„É°„É¢„É™',
                                gpu: 'GPU',
                                storage: '„Çπ„Éà„É¨„Éº„Ç∏',
                                psu: 'ÈõªÊ∫ê',
                                case: '„Ç±„Éº„Çπ',
                                cooler: '„ÇØ„Éº„É©„Éº',
                                os: 'OS'
                            }).map(([key, label]) => 
                                parts[key].name && (
                                    <div key={key} className="summary-item">
                                        <div className="summary-category">{label}</div>
                                        <div className="summary-name">{parts[key].name}</div>
                                        <div className="summary-price">
                                            {parts[key].price ? `¬•${parseFloat(parts[key].price).toLocaleString()}` : '-'}
                                        </div>
                                    </div>
                                )
                            )}
                            
                            <div className="total-section">
                                <span className="total-label">ÂêàË®àÈáëÈ°ç:</span>
                                <span className="total-amount">¬•{calculateTotal().toLocaleString()}</span>
                            </div>
                        </div>

                        <div className="button-group">
                            <button className="btn btn-primary" onClick={exportToText}>
                                üíæ „ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„Åß‰øùÂ≠ò
                            </button>
                            <button className="btn btn-secondary" onClick={clearAll}>
                                üóëÔ∏è „Åô„Åπ„Å¶„ÇØ„É™„Ç¢
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<PCPartsSelector />, document.getElementById('root'));
    </script>
</body>
</html>